@layer utilities {
  .site-header {
    position: sticky;
    top: 0;
    z-index: 9999;
    isolation: isolate;
  }

  @media (min-width: 768px) {
    .site-header .site-nav {
      display: flex !important;
    }
    .site-header [data-site-menu-btn] {
      display: none !important;
    }
  }

  @media (max-width: 767px) {
    .site-header .site-nav {
      display: none !important;
    }
    .site-header [data-site-menu-btn] {
      display: inline-flex !important;
    }
  }

  .cy-ambient {
    z-index: -10;
  }

  #circuitCanvas {
    z-index: -9;
    pointer-events: none;
  }

  .cy-glass {
    background: var(--glass);
    border: 1px solid var(--stroke);
    -webkit-backdrop-filter: blur(14px);
    backdrop-filter: blur(14px);
  }

  .cy-glass-2 {
    background: var(--glass-2);
    border: 1px solid var(--stroke-2);
    -webkit-backdrop-filter: blur(18px);
    backdrop-filter: blur(18px);
  }

  .cy-neon-cyan {
    box-shadow: 0 0 0 1px rgba(34, 211, 238, 0.22), 0 0 24px rgba(34, 211, 238, 0.3);
  }

  .cy-neon-purple {
    box-shadow: 0 0 0 1px rgba(168, 85, 247, 0.2), 0 0 28px rgba(168, 85, 247, 0.28);
  }

  .cy-scanlines::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: 0.06;
    background: repeating-linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.75) 0 1px,
      transparent 1px 4px
    );
    mix-blend-mode: overlay;
  }

  .cy-noise::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: 0.04;
    background-image: radial-gradient(rgba(255, 255, 255, 0.2) 1px, transparent 1px);
    background-size: 3px 3px;
    mix-blend-mode: overlay;
  }

  @media (prefers-reduced-motion: reduce) {
    .cy-neon-cyan,
    .cy-neon-purple {
      box-shadow: none;
    }
  }
}
